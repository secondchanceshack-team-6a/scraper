#!/bin/bash

if [ "$#" -ne 2 ]; then
    echo "usage: ./montgomery-list.sh <letters> <page number>"
fi

DATA_START='__EVENTTARGET=&__EVENTARGUMENT=&__LASTFOCUS=&__VIEWSTATE=%2FwEPDwULLTE0ODU1MDYxNDkPZBYCZg9kFgJmD2QWAgIDD2QWBAIVD2QWAgIBD2QWAgIFDxYCHgdWaXNpYmxlaGQCGQ9kFgQCBQ9kFgICAQ8PFgIfAGdkFgICBQ8PFgIeBFRleHQFC1BhZ2UgMSBvZiA3ZGQCBw9kFgQCAQ8PFgIfAGhkZAIFDw9kDxAWBWYCAQICAgMCBBYFFggeBE5hbWUFDlBhcnR5Rmlyc3ROYW1lHgRUeXBlCylcU3lzdGVtLlR5cGVDb2RlLCBtc2NvcmxpYiwgVmVyc2lvbj0yLjAuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPWI3N2E1YzU2MTkzNGUwODkSHgxEZWZhdWx0VmFsdWVlHg5QYXJhbWV0ZXJWYWx1ZWQWCB8CBQ1QYXJ0eUxhc3ROYW1lHwMLKwQSHwQFAmFhHwVkFggfAgURUGFydHlCdXNpbmVzc05hbWUfAwsrBBIfBGUfBWQWCB8CBQhQYWdlU2l6ZR8DCysEBx8EBQIyMB8FZBYIHwIFClBhZ2VOdW1iZXIfAwsrBAkfBAUBMR8FZBYFAgMCAwIDAgMCA2RkGAIFHl9fQ29udHJvbHNSZXF1aXJlUG9zdEJhY2tLZXlfXxYCBR1jdGwwMCRjdGwwMCRsb2dzdGF0aGVhZCRjdGwwMQUdY3RsMDAkY3RsMDAkbG9nc3RhdGhlYWQkY3RsMDMFMmN0bDAwJGN0bDAwJGNwaENvbnRlbnQkY3BoU2VhcmNoUmVzdWx0cyRncmlkU2VhcmNoDzwrAAoBCAIBZBhFDL5vhjCe1eBw7KrJf24Dalyb&__VIEWSTATEGENERATOR=822659F4&__EVENTVALIDATION=%2FwEWIAK164ybCwLt6cx1Areo4tIDAvSDr4EPAq%2BT4UECptqivQgC9emh%2FwQC4aeB0QMC%2BcWkkwcCiarL8g4CmJWIxQUC9%2BWzmAwC6sCXqg0C6sCDtAsC6sCfKQLqwIuzDgLqwMepDwLqwLOzDQLqwM%2BoAgLqwLsyAq%2F%2Bi7wJAq%2F%2B98UHAq%2F%2Bs7wIAq%2F%2Bn8YGAq%2F%2Bu7sLAq%2F%2Bp8UJAq%2F%2B47sKAq%2F%2Bz8UIAq%2F%2B67oNAq%2F%2B18QLAuDgn6MNAuDgi60LOwVeeLwfVJGMRibLlAQ58Qe%2BdEM%3D&ctl00%24ctl00%24ddlCourt=fc048db5&ctl00%24ctl00%24cphContent%24cphSelectionCriteria%24txtPartyFirstName=&ctl00%24ctl00%24cphContent%24cphSelectionCriteria%24txtPartyLastName='
DATA_MID='&ctl00%24ctl00%24cphContent%24cphSelectionCriteria%24txtPartyBusinessName=&ctl00%24ctl00%24cphContent%24cphContentPaging%24hfpg='
DATA_END='&ctl00%24ctl00%24cphContent%24cphContentPaging%24hfmx=9999999&ctl00%24ctl00%24cphContent%24cphContentPaging%24nextpage=Next+%3E&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl02%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl03%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl04%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl05%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl06%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl07%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl08%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl09%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl10%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl11%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl12%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl13%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl14%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl15%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl16%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl17%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl18%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl19%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl20%24hfrc=124&ctl00%24ctl00%24cphContent%24cphSearchResults%24gridSearch%24ctl21%24hfrc=124'

curl 'https://montgomery.tncrtinfo.com/crCaseList.aspx' -H 'User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:63.0) Gecko/20100101 Firefox/63.0' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://montgomery.tncrtinfo.com/crCaseList.aspx' -H 'Content-Type: application/x-www-form-urlencoded' -H 'Connection: keep-alive' -H 'Cookie: pubinqcrt=selcrt=fc048db5' -H 'Upgrade-Insecure-Requests: 1' --data "$DATA_START$1$DATA_MID$2$DATA_END"
